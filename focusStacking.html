<html lang="en">
	<head>
		<meta charset="UTF-8">
		<!-- Load css, js is loaded at end of page -->
		<link rel="stylesheet" href="./css/bootstrap.min.css">
		<link rel="stylesheet" href="./style.css">
		<link rel="stylesheet" href="./css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="./css/magnific-popup.css">
	</head>

	<body>
		<!--  Navigation -->
		<nav class="navbar navbar-inverse navbar-fixed-top">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="./index.html">Andrew Medlin</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav navbar-right">
		      	<li><a href="./index.html">Home</a></li>
		        <li class="dropdown active">
		          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Projects <span class="caret"></span></a>
		          <ul class="dropdown-menu" role="menu">
		            <li><a href="./fp2d.html">FP2D</a></li>
		            <li><a href="./subdivision.html">Catmull-Clark Subdivision</a></li>
		            <li class="active"><a href="./focusStacking.html">Focus Stacking</a></li>
		            <li><a href="./chess.html">Chess</a></li>
		          </ul>
		        </li>
		        <li><a href="./hobbies.html">Hobbies</a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>


		<!--  Main content -->
		<div class="container">
			<div class="well">
				<h2>Focus Stacking Algorithm</h2>
				<p> This program takes a set of images with different focal depths and converts them into a single high depth of field image.  These images are loaded into my program and the infocus portions of each layer are calculated.  Using the results of this process I was able to rebuild the image with a much greater depth of field than any of the images provided by themselves.
				</p>
				<p><h3>Original Images</h3></p>
				<div class="row popup-gallery-1">
				  	<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_1.JPG" class="thumbnail">
				      		<img src="./images/circuit_1.JPG" alt="Image 1">
				    	</a>
					</div>
					<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_2.JPG" class="thumbnail">
				      		<img src="./images/circuit_2.JPG" alt="Image 2">
				    	</a>
					</div>
					<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_3.JPG" class="thumbnail">
				      		<img src="./images/circuit_3.JPG" alt="Image 3">
				    	</a>
					</div>
					<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_4.JPG" class="thumbnail">
				      		<img src="./images/circuit_4.JPG" alt="Image 4">
				    	</a>
					</div>
					<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_5.JPG" class="thumbnail">
				      		<img src="./images/circuit_5.JPG" alt="Image 5">
				    	</a>
					</div>
					<div class="col-xs-4 col-md-3">
				    	<a href="./images/circuit_6.JPG" class="thumbnail">
				      		<img src="./images/circuit_6.JPG" alt="Image 6">
				    	</a>
					</div>
				</div>
				<p><h3>Results</h3></p>
				<div class="row popup-gallery-2">
					<div class="col-xs-6 col-md-3">
				    	<a href="./images/circuit_gradient.jpg" class="thumbnail" title="Gradient Result">
				      		<img src="./images/circuit_gradient.jpg" alt="HvS">
				    	</a>
				    	<div class="caption">
				        	<h4>Gradient</h4>
						</div>
					</div>
				  	<div class="col-xs-6 col-md-3">
				    	<a href="./images/circuit_HvS.jpg" class="thumbnail" title="HvS Result">
				      		<img src="./images/circuit_HvS.jpg" alt="HvS">
				    	</a>
				    	<div class="caption">
				        	<h4>HvS</h4>
						</div>
					</div>
					<div class="col-xs-6 col-md-3">
				    	<a href="./images/circuit_majority.jpg" class="thumbnail" title="Majority Result">
				      		<img src="./images/circuit_majority.jpg" alt="Image 2">
				    	</a>
				    	<div class="caption">
				        	<h4>Majority</h4>
						</div>
					</div>
					<div class="col-xs-6 col-md-3">
				    	<a href="./images/circuit_photoshop.jpg" class="thumbnail" title="Photoshop CS5 Result">
				      		<img src="./images/circuit_photoshop.jpg" alt="Image 3">
				    	</a>
				    	<div class="caption">
				        	<h4>Photoshop CS5</h4>
						</div>
					</div>
				</div>
				<p>
					Depending on the algorithm used to combine the picture gave a considerable difference in results.  The Gradient approach (fig. 1) of picking the most sharpest pixel from each image and writing it to the output image was the simplest but gave the worst results.  More complicated algorithms such as (fig. 2) and (fig. 3) looked at the surrounding pixels and averaged them out which gave much better results, but they still were not as good as Adobe Photoshops' results (fig. 4).
				</p>
				<p>
					Project <a href="./focus_stacking.zip">source</a>
				</p>
			</div>
		</div> <!-- container -->


		<!--  Footer -->
		<div class="well well-footer">
			&#169;2015 Andrew Medlin
		</div>


		<!--  Load Javascript at end for faster load time -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.magnific-popup.min.js"></script>

		<script type="text/javascript">
		    $(document).ready(function() {
				$('.popup-gallery-1').magnificPopup({
					delegate: 'a',
					type: 'image',
					tLoading: 'Loading image #%curr%...',
					mainClass: 'mfp-img-mobile',
					gallery: {
						enabled: true,
						navigateByImgClick: true,
						preload: [0,1] // Will preload 0 - before current, and 1 after the current image
					},
					image: {
						tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
						titleSrc: function(item) {
							return '<small>Simple Cube Model</small>';
						}
					}
				});
			});
	    </script>

	    <script type="text/javascript">
		    $(document).ready(function() {
				$('.popup-gallery-2').magnificPopup({
					delegate: 'a',
					type: 'image',
					tLoading: 'Loading image #%curr%...',
					mainClass: 'mfp-img-mobile',
					gallery: {
						enabled: true,
						navigateByImgClick: true,
						preload: [0,1] // Will preload 0 - before current, and 1 after the current image
					},
					image: {
						tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
						titleSrc: function(item) {
							return item.el.attr('title') + '<small>Calculated Results</small>';
						}
					}
				});
			});
	    </script>
	</body>
</html>


